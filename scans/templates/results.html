{% extends 'base.html' %}

{% block title %}Analysis Results{% endblock %}

{% block content %}
<section
  style="
    background: linear-gradient(90deg, #2980b9, #34495e);
    padding: 40px;
    border-radius: 10px;
    color: #fff;
    margin-bottom: 30px;
    animation: fadeSlideIn 0.7s ease;
  "
>
  <h2
    style="
      font-size: 28px;
      font-weight: 700;
      color: #fff;
      margin-bottom: 25px;
      text-align: center;
    "
  >
    Kidney Analysis
  </h2>

  <!-- Image Section -->
  <div
    style="
      text-align: center;
      margin-bottom: 25px;
      animation: floatIn 0.6s ease;
    "
  >
    <p style="font-size: 15px; color: #ddd; margin-bottom: 10px;">
      <strong>Uploaded Image:</strong>
    </p>
    <img
      src="{{ image_url }}"
      alt="Uploaded Image"
      style="
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        border: 1px solid #e0e0e0;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      "
    />
  </div>

  <!-- Prediction Results -->
  <div
    style="
      background-color: #f9fafc;
      color: #333;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      animation: fadeIn 0.6s ease;
      max-width: 600px;
      margin: 0 auto;
    "
  >
    <h3 style="font-weight: 600; font-size: 1.2rem; color: #2C3E50; margin-bottom: 15px;">
      Prediction
    </h3>
    <ul style="list-style: none; padding: 0;">
      <li style="font-size: 18px; color: #34495E; margin-bottom: 10px;">
        <strong style="color: #2C3E50;">Predicted Class:</strong>
        <span style="font-weight: bold; color: #28a745;">
          {% if results.predicted_class == 0 %}
            Cyst
          {% elif results.predicted_class == 1 %}
            Normal
          {% elif results.predicted_class == 2 %}
            Stone
          {% elif results.predicted_class == 3 %}
            Tumor
          {% else %}
            Unknown
          {% endif %}
        </span>
      </li>
      <li style="font-size: 16px; color: #34495E; margin-bottom: 10px;">
        <strong style="color: #2C3E50;">Raw Prediction Probabilities:</strong>
        {{ results.predictions }}
      </li>
    </ul>

    <!-- Action Button -->
    <div style="text-align: center; margin-top: 20px;">
      <a
        href="{% url 'scans:upload_scan' %}"
        style="
          background-color: #3498DB;
          border: none;
          padding: 12px 30px;
          font-size: 16px;
          font-weight: 600;
          border-radius: 8px;
          text-decoration: none;
          color: #fff;
          transition: all 0.3s ease;
        "
        onmouseover="this.style.backgroundColor='#217dbb'; this.style.transform='translateY(-3px)';"
        onmouseout="this.style.backgroundColor='#3498DB'; this.style.transform='none';"
      >
        Upload Another Scan
      </a>
    </div>
  </div>
</section>

<!-- Additional Animations -->
<style>
  @keyframes fadeSlideIn {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes floatIn {
    0% {
      opacity: 0;
      transform: translateY(15px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }
</style>
{% endblock %}
